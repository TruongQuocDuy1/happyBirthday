<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>üéÅ Happy Birthday</title>
  <style>
    :root {
      --pink: #ffb6c1;
      --card: #fff0f5;
      --duration: 0.6s;
    }
    *{box-sizing:border-box}
    html,body{
      height:100%;margin:0;display:flex;justify-content:center;align-items:center;
      background: linear-gradient(135deg,#ff9eb4 0%,#ffc1ce 100%);
      font-family: "Poppins", sans-serif;
    }
    /* ---------- H·ªôp qu√† ---------- */
    #gift{
      width:220px;height:220px;cursor:pointer;
      transition: transform var(--duration) ease;
    }
    #gift:active{transform: scale(.95);}
    #gift.hide{animation: vanish .8s forwards;}
    @keyframes vanish{to{opacity:0;transform:scale(.3) rotate(20deg)}}
    /* ---------- Khung l·ªùi ch√∫c ---------- */
    #card{
      display:none;           /* ·∫©n l√∫c ƒë·∫ßu */
      background:var(--card);
      padding:40px 30px;
      border-radius:20px;
      box-shadow:0 12px 30px rgba(0,0,0,.12);
      max-width:600px;
      text-align:center;
    }
    #card.show{display:block;animation: pop .7s ease;}
    @keyframes pop{
      0%{transform:scale(.5);opacity:0}
      70%{transform:scale(1.05)}
      100%{transform:scale(1);opacity:1}
    }
    .line{
      font-size:1.3rem;
      margin:15px 0;
      min-height:1.5em;       /* gi·ªØ ch·ªó khi ch∆∞a g√µ xong */
      white-space:pre-wrap;
    }
    /* Con tr·ªè g√µ */
    .cursor{
      display:inline-block;
      width:2px;height:1.2em;
      background:#333;
      animation:blink .8s steps(1) infinite;
      vertical-align:middle;
    }
    @keyframes blink{50%{opacity:0}}
  </style>
</head>
<body>

  <!-- 1. H·ªôp qu√† -->
  <img id="gift" src="https://raw.githubusercontent.com/ikatyang/emoji-cheat-sheet/master/graphics/emojis/gift.png" alt="Gift box">

  <!-- 2. Card l·ªùi ch√∫c -->
  <div id="card">
      <div id="line1" class="line"></div>
      <div id="line2" class="line"></div>
      <div id="line3" class="line"></div>
  </div>

<script>
/* ---------- N·ªôi dung l·ªùi ch√∫c ---------- */
const lines = [
  "üéâ Ch√∫c b·∫°n sinh nh·∫≠t vui v·∫ª nha!",
  "Mong r·∫±ng m·ªçi ƒëi·ªÅu b·∫°n mong ∆∞·ªõc ƒë·ªÅu th√†nh hi·ªán th·ª±c.",
  "C√≥ ng∆∞·ªùi lu√¥n √¢m th·∫ßm ch√∫c b·∫°n h·∫°nh ph√∫c m·ªói ng√†y ‚Äì\n   d√π ch·∫≥ng n√≥i ra nh∆∞ng v·∫´n lu√¥n quan t√¢m ƒë·∫•y üòä"
];

/* ---------- B·∫Øt s·ª± ki·ªán m·ªü qu√† ---------- */
const gift  = document.getElementById("gift");
const card  = document.getElementById("card");

gift.onclick = () => {
  gift.classList.add("hide");          // hi·ªáu ·ª©ng bi·∫øn m·∫•t
  setTimeout(()=>{
    gift.style.display="none";         // ·∫©n h·∫≥n sau animation
    card.classList.add("show");        // hi·ªán card
    startType();                       // b·∫Øt ƒë·∫ßu g√µ ch·ªØ
  }, 800);
};

/* ---------- H√†m g√µ ch·ªØ d√≤ng-theo-d√≤ng ---------- */
function typeLine(text, idx, cb){
  const container = document.getElementById(`line${idx+1}`);
  let i = 0;
  const cursor = document.createElement("span");
  cursor.className = "cursor";
  container.appendChild(cursor);

  const typer = setInterval(()=>{
    container.insertBefore(document.createTextNode(text[i]), cursor);
    i++;
    if(i === text.length){
      clearInterval(typer);
      cursor.remove();
      cb && cb();
    }
  }, 40);                              // t·ªëc ƒë·ªô g√µ (ms/k√Ω t·ª±)
}

function startType(){
  typeLine(lines[0],0, ()=>{
    typeLine(lines[1],1, ()=>{
      typeLine(lines[2],2);            // d√≤ng cu·ªëi kh√¥ng c·∫ßn callback
    });
  });
}
</script>
</body>
</html>
